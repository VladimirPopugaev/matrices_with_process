# Matrix

# Назначение

Данный проект сортирует множество квадратных матриц в разных процессах и сохраняет этот результат.
Сама матрица представляет собой отдельную структуру, расположенную в модуле `Matrix.SquareMatrix`

# Как работает

1. При запуске приложения запускается система. Она представляет из себя наблюдателя, который контролирует: 
    -   процесс, отвечающий за регистрацию;
    -   процесс, отвечающий за файловое хранилище (супервизор для пула процессов - обработчиков файла)
    -   процесс, отвечающий за наблюдение за процессами, которые обрабатывают матрицы

2. После запуска необходимо обращаться к модулю `Servers.ProcessHandler` и с помощью функции `Servers.ProcessHandler.handle_process/1` запускать процессы для обработки матрицы, передавая аргументом имя матрицы. Если такой процесс уже когда-то обрабатывался,то в качестве начального состояния он получает сохранённые ранее данные.

3. Затем проводятся необходимые действия с матрицами. В случае, если происходит изменение состояния, процесс посылает сообщение процессу, отвечающему за файловое хранилище (`Servers.FileSupervisor`). Этот процесс на основе хэша имени матрицы вычисляет, какой процесс обработки файла (`Servers.FileWorker`) будет использован. Сообщение о сохранении выполняется асинхронно.

4. При сортировке матрицы процессу обработки матрицы (`Servers.MatrixProcess`) посылается сообщение. В случае, если матрица имеет размеры более чем 1 миллион строк, то для выполнения сортировки запускаются `Task`, в которой происходит обработка ста тысяч строк асинхронно. Затем все результаты сортировки собираются и обновляется состояние текущего процесса.

# Стек
Для написания этого проекта использовались инструменты Elixir: DynamicSupervisor, Supervisor, Registry, GenServer, Task


